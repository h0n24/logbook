!function(){"use strict";var e=[,function(e,t,n){function o(e,t=300){let n;return(...o)=>{clearTimeout(n),n=setTimeout((()=>{e.apply(this,o)}),t)}}function r(e,t){const n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0,screenX:e,screenY:t});document.elementFromPoint(e,t).dispatchEvent(n)}function c(){document.querySelector("loading .loader").classList.remove("ng-hide")}function i(){document.querySelector("loading .loader").classList.add("ng-hide")}function u(e){const t=document.querySelector("loading .loader"),n=o((()=>e()));new MutationObserver((function(e){for(let t of e)"attributes"===t.type&&"data-ng-animate"===t.attributeName&&n()})).observe(t,{attributes:!0})}n.r(t),n.d(t,{clickOnPosition:function(){return r},debounce:function(){return o},hideLoader:function(){return i},runLoadingObserver:function(){return u},showLoader:function(){return c}})},function(e,t,n){function o(e){setTimeout((function(){try{if("login"!==e)return;document.querySelectorAll(".lang-item").forEach((e=>{const t=e,n=t.querySelector("a");t.innerText.toLowerCase()===navigator.language&&(n.classList.contains("active")||n.click())}))}catch(e){}}),2e3)}n.r(t),n.d(t,{autoLogin:function(){return o}})},function(e,t,n){function o(e){let t="";"presents"===e&&(t="Prezence"),"schedulePage"===e&&(t="Kalendář"),"news"===e&&(t="Novinky"),"students.list"===e&&(t="Studenti"),"students.comment"===e&&(t="Zpráva pro studenta"),"students.send_mail"===e&&(t="Zpráva pro skupinu"),"groupsPage"===e&&(t="Skupinová účast"),"bind.materials"===e&&(t="Učební pomůcky"),"bind.teach_materials_teach"===e&&(t="Moje materiály"),"traffic"===e&&(t="Potenciální ztráty"),"homeWork"===e&&(t="Domácí úkoly"),"classWork"===e&&(t="Práce v hodině"),"exams"===e&&(t="Moje zkoušky"),"report"===e&&(t="Reporty"),"tasks"===e&&(t="Úkoly"),"content_author"===e&&(t="Přidat obsah");const n=document.querySelector("title");n.innerText=t?t+" — LogBook":"LogBook"}n.r(t),n.d(t,{createPageTitle:function(){return o}})},function(e,t,n){n.r(t),n.d(t,{addInfoForMenu:function(){return c},onContextMenu:function(){return r}});var o=n(1);function r(e){e.pageX<=48&&(e.preventDefault(),o.clickOnPosition(e.clientX,e.clientY),setTimeout((()=>{o.clickOnPosition(e.clientX,e.clientY)}),250))}function c(){try{document.querySelector(".open-menu-block").title="Levé tlačítko: Otevřít menu — Pravé tlačítko: Otevřít položku menu"}catch(e){}}},function(e,t,n){function o(e){const t=e.innerText,n=t.replace(/\s/g,"");let[o,r,c]=n.split(".");1===o.length&&(o="0"+o),1===r.length&&(r="0"+r);const i=`${c}-${r}-${o}`,u=Date.parse(i);return isNaN(u)?t:u}function r(e){const t=+new Date,n=Math.floor((t-e)/1e3);let o=n/31536e3;return"number"!=typeof o?e:o>1?o>2?"před "+Math.floor(o)+" lety":"před rokem":(o=n/2592e3,o>1?o>2?"před "+Math.floor(o)+" měsíci":"před měsícem":(o=n/86400,o>1?o>2?"před "+Math.floor(o)+" dny":"včera":(o=n/3600,o>1?"dnes":(o=n/60,o>1?"dnes":"nyní"))))}function c(e){const t={weekday:"long",year:"numeric",month:"long",day:"numeric"};try{return new Date(e).toLocaleDateString("cs-CZ",t)}catch(t){return e}}function i(){const e=document.querySelectorAll('[ng-if="stud.last_date_vizit != null"] span, .presents_stud td.mystat');for(let t=0;t<e.length;t++)try{const n=e[t],i=o(n);n.innerText=r(i),n.title=c(i)}catch(e){}}n.r(t),n.d(t,{replaceDates:function(){return i}})},function(e,t,n){n.r(t),n.d(t,{replaceStrings:function(){return r}});const o=[];function r(){try{!function(){let e,t,n=document.createTreeWalker(document.body,NodeFilter.SHOW_TEXT);for(;n.nextNode();){t=n.currentNode,e=t.nodeValue;for(let t=0;t<o.length;t++)e=e.replace(o[t][0],o[t][1]);t.nodeValue=e}}()}catch(e){}}o.push(["№","č. "]),o.push(["ч"," hod"]),o.push(["лет","let"]),o.push(["Naposledy v MyStatu :","Naposledy v MyStatu"]),o.push(["V skupine  není studentů","Dnes na této pobočce neučíte žádné studenty."]),o.push(["cover_img_rules","Velikost souboru musí být maximálně 100 MB."]),o.push(["upload_cover","Nahrát titulní obrázek"]),o.push(["Složka","Vybrat soubor"]),o.push(["Docházka, %","Docházka"]),o.push(["přidat materiál","přidat DÚ, materiál"])},function(e,t,n){function o(e,t){return new Promise((function(n,o){var r=(new Date).getTime(),c=function(){var e=(new Date).getTime()-r;e*=t||1,e=Math.round(e),n(e)};(function(e){return new Promise((function(t,n){var o=new Image;o.onload=function(){t(o)},o.onerror=function(){n(e)},o.src=e+"?random-no-cache="+Math.floor(65536*(1+Math.random())).toString(16)}))})(e).then(c).catch(c),setTimeout((function(){o(Error("Timeout"))}),5e3)}))}function r(e){e.classList.remove("connected"),e.classList.add("disconnected"),e.title="Váš počítač je offline."}function c(e){const t=document.getElementById("pulse");t&&function(e,t){e.classList.remove("disconnected"),e.classList.add("connected"),e.title=`Spojení se serverem v pořádku (${String(t)} ms)`}(t,e)}function i(e){const t=document.getElementById("pulse");t&&function(e){e.classList.remove("connected"),e.classList.add("disconnected"),e.title="Server není dostupný. Je VPN zapnutá?"}(t)}function u(){try{o("https://logbook.itstep.org/",.4).then((e=>c(e))).catch((e=>i()))}catch(e){i()}}function a(){const e=document.body,t=document.createElement("div");t.id="pulse",t.title="Zkouším navázat spojení...",e.appendChild(t),u();let n=setInterval((()=>u()),5e3);window.addEventListener("offline",(()=>{clearInterval(n),r(t),setTimeout((()=>r(t)),5e3)})),window.addEventListener("online",(()=>{u(),n=setInterval((()=>u()),5e3)}))}n.r(t),n.d(t,{checkPing:function(){return a}})},function(e,t,n){n.r(t),n.d(t,{presenceEnhancements:function(){return l}});var o=n(1);function r(e,t){setTimeout((()=>{o.clickOnPosition(e.clientX-50,e.clientY),document.body.style.cursor="default"}),500),setTimeout((()=>{t.style.visibility="visible",t.style.zIndex="",document.body.style.cursor="default"}),1e3)}function c(e,t){t.style.visibility="hidden",document.body.style.cursor="wait";t.querySelector("md-option[value='12']").click(),t.style.zIndex="-1",r(e,t)}function i(e){e.preventDefault(),o.clickOnPosition(e.clientX,e.clientY);const t=e.target.getAttribute("aria-owns"),n="false"===e.target.getAttribute("aria-disabled"),r=document.getElementById(t);r&&n&&c(e,r)}function u(){const e=document.querySelectorAll(".wrapper-students tbody tr .presents");let t=Object.keys(e).length,n=t||0,o=0;e.forEach((e=>{const t=e.querySelectorAll("span");let n=0;t.forEach((e=>{const t=e.querySelector("i:last-child");t.classList.contains("ng-hide")||t.classList.contains("was-not")||n++})),o+=n}));const r=document.querySelector(".wrapper-students thead .number");r.innerHTML=`${o}/${n}`,r.title="Celkový počet přítomných / celkový počet studentů"}function a(){const e=document.querySelectorAll(".teacherInit .check-techers input");let t=!1;e.forEach((e=>{e.checked&&(t=!0)})),function(e){const t=document.querySelector(".add-material");e?(t.style.transitionDuration="0.3s",t.style.opacity="1",t.style.zIndex="auto"):(t.style.transitionDuration="0s",t.style.zIndex="-1",t.style.opacity="0")}(t)}function s(){const e=document.querySelector("body > main > div:nth-child(4) > div > div.interna-wrap > div:nth-child(2) > h3");if(!e)return;if(!e.innerHTML.includes("Máte přestávku nebo momentálně neprobíhá hodina"))return;new IntersectionObserver((function(e){!0===e[0].isIntersecting&&document.querySelectorAll(".presents ul.pars li").forEach((e=>{e.classList.contains("active")&&e.classList.remove("active")}))}),{threshold:[1]}).observe(e)}function l(e){"presents"===e&&(setTimeout((function(){try{!function(){try{document.querySelectorAll(".presentr-classWork md-select").forEach((e=>{e.addEventListener("contextmenu",i),e.title="Levé tlačítko: Otevřít — Pravé tlačítko: Dát maximální známku"}))}catch(e){}}(),u(),document.querySelectorAll(".presents > span").forEach((e=>{e.addEventListener("click",(()=>{setTimeout((()=>u()),250)}))})),a(),function(){const e=document.querySelector(".wrapper-students thead tr th:nth-child(6)");e.title="Pravé tlačítko: Dát maximální známku všem studentům. Pozor: trvá +1 sekundu za každého žáka.",e.addEventListener("contextmenu",(e=>{e.preventDefault(),o.showLoader();const t=document.querySelectorAll('.presentr-classWork md-select[aria-disabled="false"]');let n=0;t.forEach(((t,o,i)=>{const u=t.getAttribute("aria-owns"),a=document.getElementById(u);try{if("12"===t.querySelector(".md-select-value .md-text").innerHTML)return}catch(e){}setTimeout((()=>{c(e,a)}),1e3*o+1),o===i.length-1&&setTimeout((()=>{r(e,a)}),1e3*(o+1)+500),n=o+1})),setTimeout((()=>o.hideLoader()),1e3*n+2)}))}()}catch(e){}}),100),setTimeout((function(){try{s()}catch(e){}}),200))}},function(e,t,n){function o(e){"presents.addHomeWork"===e&&setTimeout((function(){try{const e="(Maximálně 100 MB)",t=document.querySelector('[ng-model="file_hw_filename"]');"select_file_dz"===t.value&&(t.value=e);const n=document.querySelector('[ng-model="file_cover"]');"select_file_dz"===n.value&&(n.value=e);const o="Milí studenti, \n\nčeká nás další úkol. V přiloženém souboru najdete veškeré informace. Jistě si s tím hravě poradíte. Na úkol je klasicky týden. Těším se na Vaše práce. \n\nS pozdravem",r=document.querySelector('textarea[ng-model="form.descr"]');""===r.innerText&&(r.innerText=o)}catch(e){}}),100)}n.r(t),n.d(t,{homeworkEnhancements:function(){return o}})},function(e,t,n){function o(e){e.preventDefault(),angular.element(document).scope().showTeachingNotifications()}function r(){setTimeout((function(){try{!function(){try{const e=document.querySelector("toolbar .evaluation_star");e.addEventListener("contextmenu",o),e.title="Levé tlačítko: Otevřít — Pravé tlačítko: Zobrazit Evaulaci"}catch(e){}}()}catch(e){}}),1)}n.r(t),n.d(t,{addRightClickStar:function(){return r}})}],t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var c=t[o]={exports:{}};return e[o](c,c.exports,n),c.exports}n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};!function(){n.r(o);var e=n(1),t=n(2),r=n(3),c=n(4),i=n(5),u=n(6),a=n(7),s=n(8),l=n(9),d=n(10);document.documentElement.setAttribute("lang","cs-CZ"),(0,a.checkPing)(),document.body.addEventListener("contextmenu",c.onContextMenu),function(){try{let n=angular.element(document).scope();n.dateFormat="d. M. yyyy",n.dateFormatShort="d. M.",n.$on("$stateChangeSuccess",(function(n,o,a,m,f){console.log("hlavní",n,o,a,m,f);const h=o.name;(0,t.autoLogin)(h),(0,c.addInfoForMenu)(),(0,d.addRightClickStar)(),(0,r.createPageTitle)(h),e.runLoadingObserver((function(){(0,i.replaceDates)(),(0,u.replaceStrings)(),(0,s.presenceEnhancements)(h),(0,l.homeworkEnhancements)(h)}))}))}catch(e){}}()}()}();